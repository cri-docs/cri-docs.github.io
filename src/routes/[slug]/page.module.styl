.container
  var()
  --w calc(var(--text-container-width))
  --text-width calc(var(--text-container-width) - 5 * var(--padding))
  --l calc(50vw - var(--w) / 2)
  display flex
  flex-direction column
  align-items flex-start
  width var(--w)
  margin-left clamp(var(--current-index-width),100vw, var(--l))
  padding-inline calc(var(--padding)) // update
  padding-left calc(var(--padding) * 3)
  hyphens auto
  font-size var(--text-font-size)
  transition margin 0.5s, width 0.5s
  @media _mobile
    --text-width calc(var(--text-container-width) - 3 * var(--padding))
    max-width 900px
    padding var(--padding)
    padding-left 3rem
    margin 0
  @media print
    --w calc(var(--text-container-width) + 2 * var(--padding))
    display flex
    flex-direction column
    align-items flex-start
    justify-content center
    width 100%
    height 100%
    max-width var(--w)
    margin 0 0 0 0
    padding calc(var(--padding))
    padding-left 0
    // background-color var(--kd-color-background)
    color var(--kd-color-text)
  > * 
    width var(--text-width)
    font-size var(--text-font-size)
    line-height 1.2
    @media _mobile
      max-width 100%
    @media print
      width 100%
  .loading
    width var(--text-width)
    height calc(100vh - 300px)
    display flex
    align-items center
    justify-content center
    font-size var(--text-font-size)
    color var(--color-secondary)
    background-color var(--color-background)
  // texts
  > p, > h1, > h2 , > h3 , > h4 , > h5
    position relative
  p
    margin 0
    padding-bottom 1lh
    letter-spacing 0.2px
  hr
    margin 0
    margin-bottom 1lh
  figure
    display flex
    flex-direction column
    justify-content center
    align-items center
    width var(--text-width)
    margin 0
    padding-right 2rem
    @media print
      width 100%
    img
      width 80%
      max-height 50vh
      object-fit contain
      object-position left center
      @media print
        max-height 13cm
        object-fit contain
        object-position center center
    figcaption
      width 80%
      padding-top 0.3lh
      font-size var(--small-font-size)
  h2
    text-align left
    font-size var(--title-font-size)
    line-height 1.05
    font-family var(--font-header)
    font-weight 900
    max-width 70%
    break-before page
    @media print
      font-size calc(var(--title-font-size) * 0.8)
      max-width 100%
  h3
  h4
  h5
    font-size inherit
    margin-bottom .5lh
  h4
  h5
    margin-top 0
  :global([data-number])::before
    content attr(data-number)
    position absolute
    right 100%
    text-align right
    display inline
    padding-right 1rem
    @media _mobile
      position relative
      right unset
      padding unset
  ol
  ul
    margin-top 0
    padding 0
    li
      position relative
      padding-bottom .5lh
  ul
    li
      max-width 80%
      // padding-left 2ch
      // text-indent -2ch
      list-style none
      &:before
        --size 1.2rem
        --height 1px
        content ""
        background-color currentColor
        position absolute
        left calc(-1 * var(--size) - .5rem)
        height var(--height)
        width var(--size)
        transform translateY(calc(.55lh - (var(--height) / 2)))
  table
    width 90%
    padding-bottom: 1lh;
    font-size var(--small-font-size)
    @media _mobile
      width calc(100% + 1 * var(--padding))
      margin-left calc(var(--padding) * -1)
    th
      padding-right .5rem
      padding-left .5rem
      strong
        display inline-block
        margin-bottom .5lh
        margin-top .5lh
    td
      padding-top .2lh
    td:nth-child(1)
    th:nth-child(1)
      width 40%
      padding-right 1rem
    td:nth-child(2)
    th:nth-child(2)
      width 60%
      padding-left 1rem
    thead
      th
        hyphens none
        text-align left
        // padding-bottom .5lh
    tbody
      tr
        border-top 1px solid lightgray
        td
          width 50%
        td:nth-child(2)
          width 50%
          padding-left .5rem
        td:nth-child(1)
          padding-right .5rem

// [[start:blocks]]
:global(.literature)
  --p clamp(var(--current-index-width), 100vw, var(--l))
  font-size var(--small-font-size)
  ul
    padding-left 2ch
    // text-indent -2ch
    li
      max-width unset
      list-style none
      &:before
        content ""
        --size .8ch
        transform translateY(calc(.5lh - (var(--height) / 2)))
  > *
    width calc(var(--text-container-width) * 0.6)
    &:first-child p
      font-weight bold
    @media _mobile
      width calc(100%)
    @media print
      width calc(var(--text-container-width) * 0.8)
:global(.block)
  padding 1rem
  border 1px solid var(--color)
  margin-bottom 1lh
  break-inside avoid
  ul
    padding-left 2ch
    li
      // max-width unseslact
      list-style none
:global(.metadata)
  display flex
  flex-wrap wrap
  margin-bottom 2lh
  gap 1rem 2rem
  font-size var(--small-font-size)
  break-inside avoid
  > *
    flex-shrink 0
    width 100%
  :global(.before)
  :global(.after)
    width calc(50% - 1rem)
:global(.fullimage)
  width calc(100vw - (var(--nav-width) - var(--padding) * 1))
  img
    width 80%
    height 100%
    object-fit cover
    object-position center
:global(.comp)
  display flex
  font-size var(--small-font-size)
  gap 3rem
  width 80%
  :global(.plus)
  :global(.minus)
    flex-shrink 0
    width 50%
  :global(.plus)
    li
      list-style initial
      list-style-type: "+ ";
      &:before
        display none
  :global(.minus)
    li
      list-style initial
      list-style-type: "â€“ ";
      &:before
        display none
:global(.external)
  font-family var(--font-external)
  font-weight 400
  padding calc(var(--padding) * 2)
  padding-left calc(clamp(var(--current-index-width), 100vw, var(--l)))
  padding-right calc(var(--padding) * 3)
  margin-left calc(var(--padding) * 3 * -1)
  background-color var(--background-color-secondary)
  color var(--color-secondary)
  width 100vw
  margin-left calc(clamp(var(--current-index-width), 100vw, var(--l))*-1)
  @media print
    display flex
    flex-direction column
    align-items center
    width 100%
    margin 0
    padding-inline 0
    // margin 0
  figure
    align-items: flex-start
    @media print
      align-items: center
      max-width var(--text-container-width)
      margin-right calc(var(--padding) * 2)
  > p
  > div
    text-indent 30px
    width calc(var(--text-width) * 0.85)
    @media print
      width calc(var(--text-container-width) - var(--padding) * 2)
      margin-right calc(var(--padding) * 2)
    > * 
      text-indent 0
:global(.bib)
  padding-left 2ch
  text-indent -2ch
    
// [[end:blocks]]

:global(.toc)
  @media print
    display none